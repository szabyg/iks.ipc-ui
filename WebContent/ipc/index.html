<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:xsd="http://www.w3.org/2001/XMLSchema#">
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8" />
<title>IKS - Intelligent Project Controlling tool</title>
<script src="js/loader.js" type="text/javascript"></script>
<script type="text/javascript">
	var withAloha = true;
	var localDBs = false;

    // setting external webservice addresses
	if (localDBs) {
	    stanbolUrl = "http://localhost:8080/";
	    couchdbUrl = "http://localhost:5984/ipctest/";
	} else {
	    stanbolUrl = "http://isr03:8080/";
	    couchdbUrl = "http://isr03:5984/ipctest/";
	}

    // setting directory variables
	var srcroot = "js/";
	var libroot = "js/lib/";
	var cssroot = "./css/";
	var rgraphroot = "js/lib/rgraph/";
	var templateroot = "templates";
	var stanbolUrl;
	var couchdbUrl;

	// loading all .CSS style-files
	load_css([
	           libroot + "jquery.sheet/jquery.sheet.css",
	           libroot + "jquery.sheet/plugins/menu.css",
	           libroot + "jquery.sheet/plugins/jquery.colorPicker.css",
	           cssroot + "ui-lightness/jquery-ui-1.8.5.custom.css",
	           cssroot + "style.css",
	           cssroot + "rdfa.css" ]);

	// loading rdfQuery and jQuery (v 1.4.3) script-files
	load_scripts([ 
				libroot + "jquery/1.4/jquery-1.4.3.js", // min.
				libroot + "jquery/1.4/jquery-ui-1.8.6.custom.js", // min.,
				libroot + "underscore-min.js",
				libroot + "backbone-min.js",
				]);
  	</script>
  	<script type="text/javascript">
	
	if(withAloha){
		var aloharoot = libroot + "aloha/";
	    load_scripts([ 
				// Aloha-Editor
				libroot + "jquery.cookie.js",
				aloharoot + "aloha/aloha.js",
				aloharoot + "aloha/plugins/com.gentics.aloha.plugins.Format/plugin.js",
				aloharoot + "aloha/plugins/com.gentics.aloha.plugins.HighlightEditables/plugin.js",
				aloharoot + "aloha/plugins/com.gentics.aloha.plugins.Table/plugin.js",
				aloharoot + "aloha/plugins/com.gentics.aloha.plugins.List/plugin.js",
				aloharoot + "aloha/plugins/com.gentics.aloha.plugins.Link/plugin.js",
				aloharoot + "aloha/plugins/com.gentics.aloha.plugins.HighlightEditables/plugin.js",
				aloharoot + "aloha/plugins/com.gentics.aloha.plugins.TOC/plugin.js",
//				aloharoot + "aloha/plugins/com.gentics.aloha.plugins.Link/delicious.js",
				aloharoot + "aloha/plugins/com.gentics.aloha.plugins.Link/LinkList.js",
				aloharoot + "aloha/plugins/com.gentics.aloha.plugins.Paste/plugin.js",
				aloharoot + "aloha/plugins/com.gentics.aloha.plugins.Paste/wordpastehandler.js",
				libroot   + "stanbol.js",
				srcroot   + "alohaconfig.js"
	             ]);
	}
    load_scripts([
				libroot + "jquery/jquery.tmpl.js", // min.,
				libroot + "json.min.js",
				// libroot + "jquery/1.4/jquery.tools.min.js",
				libroot + "jquery.sheet/jquery.sheet.js", // min.
				libroot + "jquery.sheet/plugins/mbMenu.min.js",
				
				libroot + "jquery.sheet/plugins/raphael-min.js", 
				libroot + "jquery.sheet/plugins/g.raphael-min.js", 
				libroot + "jquery.sheet/plugins/g.pie-min.js", 
				libroot + "jquery.sheet/plugins/g.line-min.js", 
				libroot + "jquery.sheet/plugins/g.dot-min.js", 
				libroot + "jquery.sheet/plugins/g.bar-min.js", 
				       
				libroot + "jquery.sheet/plugins/jquery.colorPicker.min.js",
				libroot + "jquery.sheet/jquery.sheet.advancedfn.js",
				srcroot + "jquery.iks.projectselector.js",
				srcroot + "jquery.iks.timerangeselector.js",
				
				// loading application specific files
				srcroot + "ipc.js",
				srcroot + "layout.js",
				srcroot + "WBSTree.js", // could be reimplemented as Backbone model
				srcroot + "ipc.dataAccess.js",
				srcroot + "iks.stanbolconnector.js",
				srcroot + "ipc.tools.js",
				srcroot + "ipc.browseplan.js",
				srcroot + "ipc.report.js",
				srcroot + "ipc.monitoring.js",
				srcroot + "jquery.ipc.monitoring.js",
				          "static-data/ipc.rules.js",
				srcroot + "jquery.iks.controldatavis.js"
             ]);
    load_scripts([
			rgraphroot + "RGraph.common.core.js",
			rgraphroot + "RGraph.common.annotate.js",
			rgraphroot + "RGraph.common.context.js",

			rgraphroot + "RGraph.common.tooltips.js",
			rgraphroot + "RGraph.common.resizing.js",
			rgraphroot + "RGraph.bar.js"
    	]);
  	</script>
    <script type="text/javascript">
	</script>
</head>
<body>
	<div id="header">
		<div id="breadcrumb">
			<a href="#">Home</a> > <a href="#">IKS</a> > <a href="#" id="pathApp">Monitor Project</a>
		</div>
		<div id="userprofile" title="No user management implemented.">
			User: SRFG (Wernher Behrendt) 
		</div>
	</div>
	<div id="wrapper">
		<div class="sidebar">
			<div id="project-selector">
				<b>1. Select project</b><br/>
				<input size="10" id="projectlookup"/><br/>
				<select id="projectselect">
					<option>Select Project</option>
					<option value="urn:iks:iks">IKS</option>
					<option>KiWi</option>
				</select>
			</div>
			<script>
			</script>
		 	<div id="mode-selector">
		 		<b>2. Select activity</b><br/>
		 		<input type='radio' name='lifecyclemode' class='lifecyclemode' value='plan' id='lifecyclemode-plan'> <label for='lifecyclemode-plan'>Browse Plan</label><br/>
		 		<input type='radio' name='lifecyclemode' class='lifecyclemode' value='monitor' id='lifecyclemode-monitor'> <label for='lifecyclemode-monitor'>Monitor Project</label><br/>
		 		<input type='radio' name='lifecyclemode' class='lifecyclemode' value='report' checked="true" id='lifecyclemode-report'> <label for='lifecyclemode-report'>Write Report</label><br/>
		 	</div>
			<span id="timerange-selector">
				time range selector
			</span>
		</div>
		<div id="tabs">
			<div id="tabs-monitor">
				<div class="accordion" id="monitor-accordion">
					<h3><a href="#">Status of Spent vs. Planned Effort for IKS</a></h3>
					<div id="monitoring-01"></div>
					<h3><a href="#">Overview of Costs for IKS</a></h3>
					<div id="monitoring-02"></div>
					<h3><a href="#">Status of Deliverables for IKS</a></h3>
					<div id="monitoring-03">
						<div class="content"></div>
						<script id="monitoringDelivStatusTableStatic" type="text/x-jquery-tmpl">
							<table class="monitoringDelivStatusTable" style="border: solid 1px #ccc;>
								<tr style="background-color: #eee;">
									<th>Deliverables</th>
									<th>Deadline</th>
									<th>Name</th>
									<th>History</th>
								</tr>
							</table>
						</script>
						<script id="monitoringDelivStatusTable" type="text/x-jquery-tmpl">
							<tr style="vertical-align: top;">
								<td>${wbs}</td>
								<td>${deadline}</td>
								<td><a href="${source}" target="_blank">${label}</a></td>
								<td>{{html $item.getHistory(history)}}</td>
							</tr>
						</script>
						<div id="testdiv">
						</div>
					</div>
					<h3><a href="#">List of Meetings for IKS</a></h3>
					<div id="monitoring-04"></div>
					<h3><a href="#">List of Publications for IKS</a></h3>
					<div id="monitoring-05"></div>
				</div>
			</div>
	
			<div id="tabs-control">
				<div id="control-rgraph"></div>
			</div>
			<div id="tabs-report">
				<script id="workProgressPerWP" type="text/x-jquery-tmpl">
					<!-- {for each workpackage, active in reporting period, not for the management workpackage} -->
						<h2>${wpLabel}</h2>
					    <ul>
						    <li><b>Objectives</b>: <i>${wpDescription}</i></li>
					    	<li>Progress: <div class="editable freeText" id="${jsId}_progress">
 Because of the redesign, the final version of D1.1 is planned to be available at the end of July but the first experimental exercise will be delivered to the industrial partners early July, such that the delay for Task 1.2 is reduced.
							</div></li>
					    
					    	<li>Planned vs. Spent efforts per Partner
								<!-- {table for this workpackage: planned vs. spent effort per beneficiary * transposition} -->
								<table>

									<tr><td>Partner</td><td>Planned effort</td><td>Spent effort</td><td>Deviation</td><td>Explanation</td></tr>

									{{each spentVsPlannedByPartner}}
										<tr>
										<tr>
	<td>${partnerLabel}</td>
	<td>${Math.round(plan)}</td>
	<td>${Math.round(spent)}</td>
	<td>${Math.round(spent-plan)}</td>
	<td><div id="${jsId}_explanation" class="editable freeText">Explanation...</div></td></tr>
										</tr>
									{{/each}}

								</table>
							</li>
					    
					    	<li>Explanation of use of resources: <div class="editable freeText" id="${jsId}_expl"> {a statement on use of resources, deviations and planning}</div></li>
					    	<li>Significant results: <div class="editable freeText" id="${jsId}_signResults"> <strong>{free text input: significant results}</strong></div></li>
					    	<li>Corrective actions: <div class="editable freeText" id="${jsId}_corrActions"> optional {possible corrective actions}</div></li>
				    	</ul>
				</script>
				<div id="reportAccordion">

				<h2><a href="#"> 1. IKS project periodic report for 2010</a></h2>
				<div id="basic_data">
					<p>Grant Agreement number: {project_grant_agreement_number}</P>
					<p>Project acronym: <abbr>{project_acronym}</abbr></P>
					<p>Project title:{project_label}</P>
					<p>Funding Scheme:{funding_scheme}</P>
					<p>Date of latest version of Annex I against which the assessment will be made: {project_contract_date}</P>

					<div id="period">
						<form id="reportingperiod" action="">
						  <p>Periodic report: 
						    <input type="radio" name="1st period" value="1"> 1st period
						    <input type="radio" name="2nd period" value="2"> 2nd period
						    <input type="radio" name="3rd period" value="3"> 3rd period
						    <input type="radio" name="4th period" value="3"> 4th period</p>
						</form>
						<p>Period covered: from {date picker} to {date picker} </p>
					</div>
					<div id="address_of_scientific_representative_of_project">
						<p>Name, title and organisation of the scientific representative of the project's coordinator</B>:</p>
						<p>Name:</p>
						<p>Organisation: {lead-organisation}</p>
						<p>Tel:</p>
						<p>Fax:</p>
						<p>E-mail:</p>
					</div>

					<p>Project website address: {project_website_url}</P>
				</div>
				
				<h2><a href="#"> 2. Declaration by the scientific representative of the project coordinator </a></h2>
				<div id="declaration_of_coordinator">
					I, as scientific representative of the coordinator of this project and in line with the obligations as stated in Article II.2.3 of the Grant Agreement declare that:
					<ul>
					    <li>The attached periodic report represents an accurate description of the work carried out in this project for this reporting period;</FONT></P>
						<li><p> The project (tick as appropriate): </p>
							<div id="goals">
							    <form id="achieved goals" action="">
							        <p> <input type="radio" name="achieved full" value="1"> has fully achieved its objectives and technical goals for the period;</p>
							        <p> <input type="radio" name="achieved most" value="2"> has achieved most of its objectives and technical goals for the period with relatively minor deviations.</p>
							        <p> <input type="radio" name="failed" value="3"> has failed to achieve critical objectives and/or is not at all on schedule.</p>
							    </form>
							</div>		
						</li>
						<li><p>The public website, if applicable</p>
							<form id="website status" action="">
						        <p> <input type="radio" name="achieved full" value="1"> is up to date</p>
						        <p> <input type="radio" name="achieved most" value="2"> is not up to date</p>
						    </form>
						</li>
						<li>To my best knowledge, the financial statements which are being submitted as part of this report are in line with the actual work carried out and are consistent with the report on the resources used for the project (section 3.4) and if applicable with the certificate on financial statement.</li>
						<li>All beneficiaries, in particular non-profit public bodies, secondary and higher education establishments, research organisations and SMEs, have declared to have verified their legal status. Any changes have been reported under section 3.2.3 (Project Management) in accordance with Article II.3.f of the Grant Agreement.</li>
					</ul>
					
					<div id="signature">
						<p>Signature</p> 
						<p>Name of scientific representative of the Coordinator: {signature}</p>
						<p>Date: <time datetime="{datetime}"></time></p>
						For most of the projects, the signature of this declaration could be done directly via the IT reporting tool through an adapted IT mechanism.</FONT></FONT></P>
					</div>
				</div>
				
				<h2><a href="#"> 3. Publishable summary</a></h2>
				<div id="publishable summary">
					{link to publishable summary}
				</div>
				
				<h2><a href="#"> 4. Project objectives, work progress and achievements during the period</a></h2>
				<div id="project_objectives_and_work_progress">
					<h3> Project objectives for period from AnnexI</h3>
					<p> {project-objectives-for-period-from-AnnexI} </p>
					<h3> Recommendations from previous reviews</h3>
					<p> {summary of the recommendations from the previous reviews (if any) and indicate how these have been taken into account}.</p>
					<h3>Work progress and achievements during the period</h3>
					<p>Please provide a concise overview of the progress of the work in line with the structure of Annex I to the Grant Agreement.</P>
					<div class="workProgressPerWPList"></div>
				</div>
				
				<h2><a href="#"> 5. Project management during the period</a></h2>
				<div id="project_management">
					<h3>Consortium management tasks and achievements</h3>
					<p contenteditable> free text: Consortium management tasks and achievements</p>
					<h3>Problems which have occurred and how they were solved or envisaged solutions</h3>
					<p contenteditable> free text: Problems which have occurred and how they were solved or envisaged solutions </p>
					<h3>Changes in the consortium</h3>
					<p contenteditable> free text: Changes in the consortium</p>
					<h3>List of project meetings, dates and venues</h3>
					<p>{project meetings, dates and venues}</p>
					<h3>Project planning and status</h3>
					
					<p> {table: planned vs. actual vs. deviation per task per reporting period (year) * (transposition}
					
					<p contenteditable>free text description</p>
					<h3>Impact of possible deviations from the planned milestones and deliverables</h3>
					<p contenteditable>possible deviations from the planned milestones and deliverables</p>
					<h3> Any changes to the legal status of any of the beneficiaries, in particular non-profit public bodies, secondary and higher education establishments, research organisations and SMEs</h3>
					<p contenteditable>change in legal status</p>
					<h3>Development of the Project website</h3>
					<p contenteditable>free text: development of website</p>
					<h3>Information on co-ordination activities during the period in question, such as communication between beneficiaries, possible co-operation with other projects/programmes etc.</h3>
					<p contenteditable>free text: communication and co-operation</p>
				</div>

				<h2><a href="#"> 6. Deliverables and milestones tables</a></h2>
				<div id="deliverables_and_milestones_tables">
					<h3>Deliverables</h3>
					
					{table of all deliverables which are due from project start to end of reporting period} <br>
					Labels for collumns <br>
					Del. no. <br>
					Deliverable name <br>
					Version <br>
					WP no. <br>
					Lead beneficiary <br>
					Nature <br>
					Dissemination level <br>
					Delivery date from Annex I (proj month) <br>
					Actual / Forecast delivery date (Dd/mm/yyyy <br>
					Status (Not submitted/Submitted <br>
					Contractual (Yes/No) <br>
					Comments (editable textfield) <br>
					
					<h3>Milestones</h3>
					Milestone no. <br>
					Milestone name<br>
					Work package no<br>
					Lead beneficiary<br>
					Delivery date  from Annex I (dd/mm/yyyy)<br>
					Achieved (Yes/No) <-- rule based><br>
					Actual / Forecast achievement date (dd/mm/yyyy)<br>
					<p contenteditable>Free text Comments</p>
				
				</div>
				<h2><a href="#"> 7. explanation of use of resources</a></h2>
				<div id="explanation_of_use_of_resources">not yet implemented</div>
			</div>
		</div>
	</div>
	<!-- jquery.sheet inline menu -->
	<span id="inlineMenu" style="display: none;"><span><a href="#" onclick="sheetInstance.controlFactory.addRow(); return false;" title="Insert Row After Selected"><img alt="Insert Row After Selected" src="js/lib/jquery.sheet/pics/icons/sheet_row_add.png"/></a><a href="#" onclick="sheetInstance.controlFactory.addRow(null, true); return false;" title="Insert Row Before Selected"><img alt="Insert Row Before Selected" src="js/lib/jquery.sheet/pics/icons/sheet_row_add.png"/></a><a href="#" onclick="sheetInstance.controlFactory.addRow(null, null, ':last'); return false;" title="Add Row At End"><img alt="Add Row" src="js/lib/jquery.sheet/pics/icons/sheet_row_add.png"/></a><a href="#" onclick="sheetInstance.controlFactory.addRowMulti(); return false;" title="Add Multi-Rows"><img alt="Add Multi-Rows" src="js/lib/jquery.sheet/pics/icons/sheet_row_add_multi.png"/></a><a href="#" onclick="sheetInstance.deleteRow(); return false;" title="Delete Row"><img alt="Delete Row" src="js/lib/jquery.sheet/pics/icons/sheet_row_delete.png"/></a><a href="#" onclick="sheetInstance.controlFactory.addColumn(); return false;" title="Insert Column After Selected"><img alt="Insert Column After Selected" src="js/lib/jquery.sheet/pics/icons/sheet_col_add.png"/></a><a href="#" onclick="sheetInstance.controlFactory.addColumn(null, true); return false;" title="Insert Column Before Selected"><img alt="Insert Column Before Selected" src="js/lib/jquery.sheet/pics/icons/sheet_col_add.png"/></a><a href="#" onclick="sheetInstance.controlFactory.addColumn(null, null, ':last'); return false;" title="Add Column At End"><img alt="Add Column At End" src="js/lib/jquery.sheet/pics/icons/sheet_col_add.png"/></a><a href="#" onclick="sheetInstance.controlFactory.addColumnMulti(); return false;" title="Insert Multi-Columns"><img alt="Add Multi-Columns" src="js/lib/jquery.sheet/pics/icons/sheet_col_add_multi.png"/></a><a href="#" onclick="sheetInstance.deleteColumn(); return false;" title="Delete Column"><img alt="Delete Column" src="js/lib/jquery.sheet/pics/icons/sheet_col_delete.png"/></a><a href="#" onclick="sheetInstance.getTdRange(null, sheetInstance.obj.formula().val()); return false;" title="Get Cell Range"><img alt="Get Cell Range" src="js/lib/jquery.sheet/pics/icons/sheet_get_range.png"/></a><a href="#" onclick="sheetInstance.s.fnSave(); return false;" title="Save Sheets"><img alt="Save Sheet" src="js/lib/jquery.sheet/pics/icons/disk.png"/></a><a href="#" onclick="sheetInstance.deleteSheet(); return false;" title="Delete Current Sheet"><img alt="Delete Current Sheet" src="js/lib/jquery.sheet/pics/icons/table_delete.png"/></a><a href="#" onclick="sheetInstance.calc(sheetInstance.i); return false;" title="Refresh Calculations"><img alt="Refresh Calculations" src="js/lib/jquery.sheet/pics/icons/arrow_refresh.png"/></a><a href="#" onclick="sheetInstance.cellFind(); return false;" title="Find"><img alt="Find" src="js/lib/jquery.sheet/pics/icons/find.png"/></a><a href="#" onclick="sheetInstance.cellStyleToggle('styleBold'); return false;" title="Bold"><img alt="Bold" src="js/lib/jquery.sheet/pics/icons/text_bold.png"/></a><a href="#" onclick="sheetInstance.cellStyleToggle('styleItalics'); return false;" title="Italic"><img alt="Italic" src="js/lib/jquery.sheet/pics/icons/text_italic.png"/></a><a href="#" onclick="sheetInstance.cellStyleToggle('styleUnderline', 'styleLineThrough'); return false;" title="Underline"><img alt="Underline" src="js/lib/jquery.sheet/pics/icons/text_underline.png"/></a><a href="#" onclick="sheetInstance.cellStyleToggle('styleLineThrough', 'styleUnderline'); return false;" title="Strikethrough"><img alt="Strikethrough" src="js/lib/jquery.sheet/pics/icons/text_strikethrough.png"/></a><a href="#" onclick="sheetInstance.cellStyleToggle('styleLeft', 'styleCenter styleRight'); return false;" title="Align Left"><img alt="Align Left" src="js/lib/jquery.sheet/pics/icons/text_align_left.png"/></a><a href="#" onclick="sheetInstance.cellStyleToggle('styleCenter', 'styleLeft styleRight'); return false;" title="Align Center"><img alt="Align Center" src="js/lib/jquery.sheet/pics/icons/text_align_center.png"/></a><a href="#" onclick="sheetInstance.cellStyleToggle('styleRight', 'styleLeft styleCenter'); return false;" title="Align Right"><img alt="Align Right" src="js/lib/jquery.sheet/pics/icons/text_align_right.png"/></a><a href="#" onclick="sheetInstance.fillUpOrDown(); return false;" title="Fill Down"><img alt="Fill Down" src="js/lib/jquery.sheet/pics/icons/arrow_down.png"/></a><a href="#" onclick="sheetInstance.fillUpOrDown(true); return false;" title="Fill Up"><img alt="Fill Up" src="js/lib/jquery.sheet/pics/icons/arrow_up.png"/></a><span class="colorPickers"><input title="Foreground color" class="colorPickerFont" style="background-image: url('pics/icons/palette.png') ! important; width: 16px; height: 16px;"/><input title="Background Color" class="colorPickerCell" style="background-image: url('pics/icons/palette_bg.png') ! important; width: 16px; height: 16px;"/></span><a href="#" onclick="sheetInstance.obj.formula().val('=HYPERLINK(\'' + prompt('Enter Web Address', 'http://www.visop-dev.com/') + '\')').keydown(); return false;" title="HyperLink"><img alt="Web Link" src="js/lib/jquery.sheet/pics/icons/page_link.png"/></a><a href="#" onclick="sheetInstance.toggleFullScreen(); $('#lockedMenu').toggle(); return false;" title="Toggle Full Screen"><img alt="Web Link" src="js/lib/jquery.sheet/pics/icons/arrow_out.png"/></a><!--<a href="#" onclick="insertAt('jSheetControls_formula', '~np~text~'+'/np~');return false;" title="Non-parsed"><img alt="Non-parsed" src="js/lib/jquery.sheet/pics/icons/noparse.png"/></a>--></span></span>
</body>
</html>
